<div
  class="home"
  :class="{'modal-open': isAddCartModalVisible}"
>
  <div
    :class="['mobile-menu-overlay', {'mobile-menu-overlay--visible': isMobileMenuActive}]"
    @click="closeMobileMenu"
  ></div>
  <Header
    :cart-items="cartItems"
    @openMobileMenu="openMobileMenu"
  />
  <MenuMobile
    :is-active="isMobileMenuActive"
    :menu-options="menuOptions"
    @closeMobileMenu="closeMobileMenu"
  />
  <main>
    <search-bar
      @searchFor="fetchProducts({search: $event})"
    ></search-bar>
    <section class="products">
      <div class="products__header">
        <h3 class="mb-4">Produtos</h3>
        <div class="d-flex justify-content-between gap-2">
          <div class="order">
            <label for="orderSelect">
              Ordenar
              <vue-feather size="16" type="arrow-up" style="margin-right: -8px" />
              <vue-feather size="16" type="arrow-down" />
            </label>
            <select
              id="orderSelect"
              class="form-select form-select-md action-container"
              aria-label="Default select example"
              v-model="selectedOrder"
            >
              <option value="" disabled>Selecione</option>
              <option
                v-for="order in orderOptions"
                :key="order.value"
                :value="order.value"
              >{{ order.label }}</option>
            </select>
          </div>
          <div class="order">
            <label for="filterSelect">
              Filtrar por categoria
              <vue-feather size="16" type="filter" />
            </label>
            <select
              id="filterSelect"
              class="form-select form-select-md action-container"
              v-model="selectedCategory"
            >
              <option class="category" value="">Todas</option>
              <option
                v-for="category in categoriesList"
                :key="category"
                :value="category"
              >
                {{ translatedCategory(category) }}
              </option>
            </select>
          </div>
        </div>
      </div>
      <div
        v-if="!isWaitingProductsFetch"
        class="products____container row justify-content-center px-2 px-md-4"
      >
        <product-card
          v-for="product in productsList"
          :product-info="product"
          :is-adding-product-to-cart="isAddingProductToCart"
          @showAddToCartModal="showAddToCartModal"
        ></product-card>
      </div>
      <div 
        v-else
        class="spinner-border text-primary"
        role="status"
      >
        <span class="visually-hidden">
          Loading...
        </span>
      </div>
    </section>
  </main>
  <Footer></Footer>
  <add-cart-modal
    v-if="isAddCartModalVisible"
    :product-info="selectedProduct"
    @addToCart="addToCart"
    @hideAddToCartModal="hideAddToCartModal"
  ></add-cart-modal>
</div>
